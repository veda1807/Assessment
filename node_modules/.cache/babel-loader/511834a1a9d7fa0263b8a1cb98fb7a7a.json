{"ast":null,"code":"import { EditorView, ViewPlugin, BlockType, PluginField, Direction } from '@codemirror/view';\nimport { RangeValue, RangeSet } from '@codemirror/rangeset';\nimport { MapMode, Facet, combineConfig } from '@codemirror/state';\n/**\nA gutter marker represents a bit of information attached to a line\nin a specific gutter. Your own custom markers have to extend this\nclass.\n*/\n\nclass GutterMarker extends RangeValue {\n  /**\n  @internal\n  */\n  compare(other) {\n    return this == other || this.constructor == other.constructor && this.eq(other);\n  }\n  /**\n  Render the DOM node for this marker, if any.\n  */\n\n\n  toDOM(_view) {\n    return null;\n  }\n  /**\n  Create a range that places this marker at the given position.\n  */\n\n\n  at(pos) {\n    return this.range(pos);\n  }\n\n}\n\nGutterMarker.prototype.elementClass = \"\";\nGutterMarker.prototype.mapMode = MapMode.TrackBefore;\nconst defaults = {\n  class: \"\",\n  renderEmptyElements: false,\n  elementStyle: \"\",\n  markers: () => RangeSet.empty,\n  lineMarker: () => null,\n  initialSpacer: null,\n  updateSpacer: null,\n  domEventHandlers: {}\n};\nconst activeGutters = /*@__PURE__*/Facet.define();\n/**\nDefine an editor gutter. The order in which the gutters appear is\ndetermined by their extension priority.\n*/\n\nfunction gutter(config) {\n  return [gutters(), activeGutters.of(Object.assign(Object.assign({}, defaults), config))];\n}\n\nconst baseTheme = /*@__PURE__*/EditorView.baseTheme({\n  \".cm-gutters\": {\n    display: \"flex\",\n    height: \"100%\",\n    boxSizing: \"border-box\",\n    left: 0,\n    zIndex: 200\n  },\n  \"&light .cm-gutters\": {\n    backgroundColor: \"#f5f5f5\",\n    color: \"#999\",\n    borderRight: \"1px solid #ddd\"\n  },\n  \"&dark .cm-gutters\": {\n    backgroundColor: \"#333338\",\n    color: \"#ccc\"\n  },\n  \".cm-gutter\": {\n    display: \"flex !important\",\n    flexDirection: \"column\",\n    flexShrink: 0,\n    boxSizing: \"border-box\",\n    height: \"100%\",\n    overflow: \"hidden\"\n  },\n  \".cm-gutterElement\": {\n    boxSizing: \"border-box\"\n  },\n  \".cm-lineNumbers .cm-gutterElement\": {\n    padding: \"0 3px 0 5px\",\n    minWidth: \"20px\",\n    textAlign: \"right\",\n    whiteSpace: \"nowrap\"\n  }\n});\nconst unfixGutters = /*@__PURE__*/Facet.define({\n  combine: values => values.some(x => x)\n});\n/**\nThe gutter-drawing plugin is automatically enabled when you add a\ngutter, but you can use this function to explicitly configure it.\n\nUnless `fixed` is explicitly set to `false`, the gutters are\nfixed, meaning they don't scroll along with the content\nhorizontally (except on Internet Explorer, which doesn't support\nCSS [`position:\nsticky`](https://developer.mozilla.org/en-US/docs/Web/CSS/position#sticky)).\n*/\n\nfunction gutters(config) {\n  let result = [gutterView, baseTheme];\n  if (config && config.fixed === false) result.push(unfixGutters.of(true));\n  return result;\n}\n\nconst gutterView = /*@__PURE__*/ViewPlugin.fromClass(class {\n  constructor(view) {\n    this.view = view;\n    this.dom = document.createElement(\"div\");\n    this.dom.className = \"cm-gutters\";\n    this.dom.setAttribute(\"aria-hidden\", \"true\");\n    this.gutters = view.state.facet(activeGutters).map(conf => new SingleGutterView(view, conf));\n\n    for (let gutter of this.gutters) this.dom.appendChild(gutter.dom);\n\n    this.fixed = !view.state.facet(unfixGutters);\n\n    if (this.fixed) {\n      // FIXME IE11 fallback, which doesn't support position: sticky,\n      // by using position: relative + event handlers that realign the\n      // gutter (or just force fixed=false on IE11?)\n      this.dom.style.position = \"sticky\";\n    }\n\n    view.scrollDOM.insertBefore(this.dom, view.contentDOM);\n    this.syncGutters();\n  }\n\n  update(update) {\n    if (this.updateGutters(update)) this.syncGutters();\n  }\n\n  syncGutters() {\n    let contexts = this.gutters.map(gutter => new UpdateContext(gutter, this.view.viewport));\n    this.view.viewportLines(line => {\n      let text;\n\n      if (Array.isArray(line.type)) {\n        for (let b of line.type) if (b.type == BlockType.Text) {\n          text = b;\n          break;\n        }\n      } else {\n        text = line.type == BlockType.Text ? line : undefined;\n      }\n\n      if (!text) return;\n\n      for (let cx of contexts) cx.line(this.view, text);\n    }, 0);\n\n    for (let cx of contexts) cx.finish();\n\n    this.dom.style.minHeight = this.view.contentHeight + \"px\";\n\n    if (this.view.state.facet(unfixGutters) != !this.fixed) {\n      this.fixed = !this.fixed;\n      this.dom.style.position = this.fixed ? \"sticky\" : \"\";\n    }\n  }\n\n  updateGutters(update) {\n    let prev = update.startState.facet(activeGutters),\n        cur = update.state.facet(activeGutters);\n    let change = update.docChanged || update.heightChanged || update.viewportChanged;\n\n    if (prev == cur) {\n      for (let gutter of this.gutters) if (gutter.update(update)) change = true;\n    } else {\n      change = true;\n      let gutters = [];\n\n      for (let conf of cur) {\n        let known = prev.indexOf(conf);\n\n        if (known < 0) {\n          gutters.push(new SingleGutterView(this.view, conf));\n        } else {\n          this.gutters[known].update(update);\n          gutters.push(this.gutters[known]);\n        }\n      }\n\n      for (let g of this.gutters) g.dom.remove();\n\n      for (let g of gutters) this.dom.appendChild(g.dom);\n\n      this.gutters = gutters;\n    }\n\n    return change;\n  }\n\n  destroy() {\n    this.dom.remove();\n  }\n\n}, {\n  provide: /*@__PURE__*/PluginField.scrollMargins.from(value => {\n    if (value.gutters.length == 0 || !value.fixed) return null;\n    return value.view.textDirection == Direction.LTR ? {\n      left: value.dom.offsetWidth\n    } : {\n      right: value.dom.offsetWidth\n    };\n  })\n});\n\nfunction asArray(val) {\n  return Array.isArray(val) ? val : [val];\n}\n\nclass UpdateContext {\n  constructor(gutter, viewport) {\n    this.gutter = gutter;\n    this.localMarkers = [];\n    this.i = 0;\n    this.height = 0;\n    this.cursor = RangeSet.iter(gutter.markers, viewport.from);\n  }\n\n  line(view, line) {\n    if (this.localMarkers.length) this.localMarkers = [];\n\n    while (this.cursor.value && this.cursor.from <= line.from) {\n      if (this.cursor.from == line.from) this.localMarkers.push(this.cursor.value);\n      this.cursor.next();\n    }\n\n    let forLine = this.gutter.config.lineMarker(view, line, this.localMarkers);\n    if (forLine) this.localMarkers.unshift(forLine);\n    let gutter = this.gutter;\n    if (this.localMarkers.length == 0 && !gutter.config.renderEmptyElements) return;\n    let above = line.top - this.height;\n\n    if (this.i == gutter.elements.length) {\n      let newElt = new GutterElement(view, line.height, above, this.localMarkers);\n      gutter.elements.push(newElt);\n      gutter.dom.appendChild(newElt.dom);\n    } else {\n      let markers = this.localMarkers,\n          elt = gutter.elements[this.i];\n\n      if (sameMarkers(markers, elt.markers)) {\n        markers = elt.markers;\n        this.localMarkers.length = 0;\n      }\n\n      elt.update(view, line.height, above, markers);\n    }\n\n    this.height = line.bottom;\n    this.i++;\n  }\n\n  finish() {\n    let gutter = this.gutter;\n\n    while (gutter.elements.length > this.i) gutter.dom.removeChild(gutter.elements.pop().dom);\n  }\n\n}\n\nclass SingleGutterView {\n  constructor(view, config) {\n    this.view = view;\n    this.config = config;\n    this.elements = [];\n    this.spacer = null;\n    this.dom = document.createElement(\"div\");\n    this.dom.className = \"cm-gutter\" + (this.config.class ? \" \" + this.config.class : \"\");\n\n    for (let prop in config.domEventHandlers) {\n      this.dom.addEventListener(prop, event => {\n        let line = view.visualLineAtHeight(event.clientY, view.contentDOM.getBoundingClientRect().top);\n        if (config.domEventHandlers[prop](view, line, event)) event.preventDefault();\n      });\n    }\n\n    this.markers = asArray(config.markers(view));\n\n    if (config.initialSpacer) {\n      this.spacer = new GutterElement(view, 0, 0, [config.initialSpacer(view)]);\n      this.dom.appendChild(this.spacer.dom);\n      this.spacer.dom.style.cssText += \"visibility: hidden; pointer-events: none\";\n    }\n  }\n\n  update(update) {\n    let prevMarkers = this.markers;\n    this.markers = asArray(this.config.markers(update.view));\n\n    if (this.spacer && this.config.updateSpacer) {\n      let updated = this.config.updateSpacer(this.spacer.markers[0], update);\n      if (updated != this.spacer.markers[0]) this.spacer.update(update.view, 0, 0, [updated]);\n    }\n\n    return this.markers != prevMarkers;\n  }\n\n}\n\nclass GutterElement {\n  constructor(view, height, above, markers) {\n    this.height = -1;\n    this.above = 0;\n    this.dom = document.createElement(\"div\");\n    this.update(view, height, above, markers);\n  }\n\n  update(view, height, above, markers) {\n    if (this.height != height) this.dom.style.height = (this.height = height) + \"px\";\n    if (this.above != above) this.dom.style.marginTop = (this.above = above) ? above + \"px\" : \"\";\n\n    if (this.markers != markers) {\n      this.markers = markers;\n\n      for (let ch; ch = this.dom.lastChild;) ch.remove();\n\n      let cls = \"cm-gutterElement\";\n\n      for (let m of markers) {\n        let dom = m.toDOM(view);\n        if (dom) this.dom.appendChild(dom);\n        let c = m.elementClass;\n        if (c) cls += \" \" + c;\n      }\n\n      this.dom.className = cls;\n    }\n  }\n\n}\n\nfunction sameMarkers(a, b) {\n  if (a.length != b.length) return false;\n\n  for (let i = 0; i < a.length; i++) if (!a[i].compare(b[i])) return false;\n\n  return true;\n}\n/**\nFacet used to provide markers to the line number gutter.\n*/\n\n\nconst lineNumberMarkers = /*@__PURE__*/Facet.define();\nconst lineNumberConfig = /*@__PURE__*/Facet.define({\n  combine(values) {\n    return combineConfig(values, {\n      formatNumber: String,\n      domEventHandlers: {}\n    }, {\n      domEventHandlers(a, b) {\n        let result = Object.assign({}, a);\n\n        for (let event in b) {\n          let exists = result[event],\n              add = b[event];\n          result[event] = exists ? (view, line, event) => exists(view, line, event) || add(view, line, event) : add;\n        }\n\n        return result;\n      }\n\n    });\n  }\n\n});\n\nclass NumberMarker extends GutterMarker {\n  constructor(number) {\n    super();\n    this.number = number;\n  }\n\n  eq(other) {\n    return this.number == other.number;\n  }\n\n  toDOM() {\n    return document.createTextNode(this.number);\n  }\n\n}\n\nfunction formatNumber(view, number) {\n  return view.state.facet(lineNumberConfig).formatNumber(number, view.state);\n}\n\nconst lineNumberGutter = /*@__PURE__*/gutter({\n  class: \"cm-lineNumbers\",\n\n  markers(view) {\n    return view.state.facet(lineNumberMarkers);\n  },\n\n  lineMarker(view, line, others) {\n    if (others.length) return null;\n    return new NumberMarker(formatNumber(view, view.state.doc.lineAt(line.from).number));\n  },\n\n  initialSpacer(view) {\n    return new NumberMarker(formatNumber(view, maxLineNumber(view.state.doc.lines)));\n  },\n\n  updateSpacer(spacer, update) {\n    let max = formatNumber(update.view, maxLineNumber(update.view.state.doc.lines));\n    return max == spacer.number ? spacer : new NumberMarker(max);\n  }\n\n});\n/**\nCreate a line number gutter extension.\n*/\n\nfunction lineNumbers(config = {}) {\n  return [lineNumberConfig.of(config), lineNumberGutter];\n}\n\nfunction maxLineNumber(lines) {\n  let last = 9;\n\n  while (last < lines) last = last * 10 + 9;\n\n  return last;\n}\n\nexport { GutterMarker, gutter, gutters, lineNumberMarkers, lineNumbers };","map":{"version":3,"sources":["D:/MSIT/Practicum - iLMS/editor-codemirror6/node_modules/@codemirror/gutter/dist/index.js"],"names":["EditorView","ViewPlugin","BlockType","PluginField","Direction","RangeValue","RangeSet","MapMode","Facet","combineConfig","GutterMarker","compare","other","constructor","eq","toDOM","_view","at","pos","range","prototype","elementClass","mapMode","TrackBefore","defaults","class","renderEmptyElements","elementStyle","markers","empty","lineMarker","initialSpacer","updateSpacer","domEventHandlers","activeGutters","define","gutter","config","gutters","of","Object","assign","baseTheme","display","height","boxSizing","left","zIndex","backgroundColor","color","borderRight","flexDirection","flexShrink","overflow","padding","minWidth","textAlign","whiteSpace","unfixGutters","combine","values","some","x","result","gutterView","fixed","push","fromClass","view","dom","document","createElement","className","setAttribute","state","facet","map","conf","SingleGutterView","appendChild","style","position","scrollDOM","insertBefore","contentDOM","syncGutters","update","updateGutters","contexts","UpdateContext","viewport","viewportLines","line","text","Array","isArray","type","b","Text","undefined","cx","finish","minHeight","contentHeight","prev","startState","cur","change","docChanged","heightChanged","viewportChanged","known","indexOf","g","remove","destroy","provide","scrollMargins","from","value","length","textDirection","LTR","offsetWidth","right","asArray","val","localMarkers","i","cursor","iter","next","forLine","unshift","above","top","elements","newElt","GutterElement","elt","sameMarkers","bottom","removeChild","pop","spacer","prop","addEventListener","event","visualLineAtHeight","clientY","getBoundingClientRect","preventDefault","cssText","prevMarkers","updated","marginTop","ch","lastChild","cls","m","c","a","lineNumberMarkers","lineNumberConfig","formatNumber","String","exists","add","NumberMarker","number","createTextNode","lineNumberGutter","others","doc","lineAt","maxLineNumber","lines","max","lineNumbers","last"],"mappings":"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","sourcesContent":["import { EditorView, ViewPlugin, BlockType, PluginField, Direction } from '@codemirror/view';\nimport { RangeValue, RangeSet } from '@codemirror/rangeset';\nimport { MapMode, Facet, combineConfig } from '@codemirror/state';\n\n/**\nA gutter marker represents a bit of information attached to a line\nin a specific gutter. Your own custom markers have to extend this\nclass.\n*/\nclass GutterMarker extends RangeValue {\n    /**\n    @internal\n    */\n    compare(other) {\n        return this == other || this.constructor == other.constructor && this.eq(other);\n    }\n    /**\n    Render the DOM node for this marker, if any.\n    */\n    toDOM(_view) { return null; }\n    /**\n    Create a range that places this marker at the given position.\n    */\n    at(pos) { return this.range(pos); }\n}\nGutterMarker.prototype.elementClass = \"\";\nGutterMarker.prototype.mapMode = MapMode.TrackBefore;\nconst defaults = {\n    class: \"\",\n    renderEmptyElements: false,\n    elementStyle: \"\",\n    markers: () => RangeSet.empty,\n    lineMarker: () => null,\n    initialSpacer: null,\n    updateSpacer: null,\n    domEventHandlers: {}\n};\nconst activeGutters = /*@__PURE__*/Facet.define();\n/**\nDefine an editor gutter. The order in which the gutters appear is\ndetermined by their extension priority.\n*/\nfunction gutter(config) {\n    return [gutters(), activeGutters.of(Object.assign(Object.assign({}, defaults), config))];\n}\nconst baseTheme = /*@__PURE__*/EditorView.baseTheme({\n    \".cm-gutters\": {\n        display: \"flex\",\n        height: \"100%\",\n        boxSizing: \"border-box\",\n        left: 0,\n        zIndex: 200\n    },\n    \"&light .cm-gutters\": {\n        backgroundColor: \"#f5f5f5\",\n        color: \"#999\",\n        borderRight: \"1px solid #ddd\"\n    },\n    \"&dark .cm-gutters\": {\n        backgroundColor: \"#333338\",\n        color: \"#ccc\"\n    },\n    \".cm-gutter\": {\n        display: \"flex !important\",\n        flexDirection: \"column\",\n        flexShrink: 0,\n        boxSizing: \"border-box\",\n        height: \"100%\",\n        overflow: \"hidden\"\n    },\n    \".cm-gutterElement\": {\n        boxSizing: \"border-box\"\n    },\n    \".cm-lineNumbers .cm-gutterElement\": {\n        padding: \"0 3px 0 5px\",\n        minWidth: \"20px\",\n        textAlign: \"right\",\n        whiteSpace: \"nowrap\"\n    }\n});\nconst unfixGutters = /*@__PURE__*/Facet.define({\n    combine: values => values.some(x => x)\n});\n/**\nThe gutter-drawing plugin is automatically enabled when you add a\ngutter, but you can use this function to explicitly configure it.\n\nUnless `fixed` is explicitly set to `false`, the gutters are\nfixed, meaning they don't scroll along with the content\nhorizontally (except on Internet Explorer, which doesn't support\nCSS [`position:\nsticky`](https://developer.mozilla.org/en-US/docs/Web/CSS/position#sticky)).\n*/\nfunction gutters(config) {\n    let result = [\n        gutterView,\n        baseTheme\n    ];\n    if (config && config.fixed === false)\n        result.push(unfixGutters.of(true));\n    return result;\n}\nconst gutterView = /*@__PURE__*/ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.view = view;\n        this.dom = document.createElement(\"div\");\n        this.dom.className = \"cm-gutters\";\n        this.dom.setAttribute(\"aria-hidden\", \"true\");\n        this.gutters = view.state.facet(activeGutters).map(conf => new SingleGutterView(view, conf));\n        for (let gutter of this.gutters)\n            this.dom.appendChild(gutter.dom);\n        this.fixed = !view.state.facet(unfixGutters);\n        if (this.fixed) {\n            // FIXME IE11 fallback, which doesn't support position: sticky,\n            // by using position: relative + event handlers that realign the\n            // gutter (or just force fixed=false on IE11?)\n            this.dom.style.position = \"sticky\";\n        }\n        view.scrollDOM.insertBefore(this.dom, view.contentDOM);\n        this.syncGutters();\n    }\n    update(update) {\n        if (this.updateGutters(update))\n            this.syncGutters();\n    }\n    syncGutters() {\n        let contexts = this.gutters.map(gutter => new UpdateContext(gutter, this.view.viewport));\n        this.view.viewportLines(line => {\n            let text;\n            if (Array.isArray(line.type)) {\n                for (let b of line.type)\n                    if (b.type == BlockType.Text) {\n                        text = b;\n                        break;\n                    }\n            }\n            else {\n                text = line.type == BlockType.Text ? line : undefined;\n            }\n            if (!text)\n                return;\n            for (let cx of contexts)\n                cx.line(this.view, text);\n        }, 0);\n        for (let cx of contexts)\n            cx.finish();\n        this.dom.style.minHeight = this.view.contentHeight + \"px\";\n        if (this.view.state.facet(unfixGutters) != !this.fixed) {\n            this.fixed = !this.fixed;\n            this.dom.style.position = this.fixed ? \"sticky\" : \"\";\n        }\n    }\n    updateGutters(update) {\n        let prev = update.startState.facet(activeGutters), cur = update.state.facet(activeGutters);\n        let change = update.docChanged || update.heightChanged || update.viewportChanged;\n        if (prev == cur) {\n            for (let gutter of this.gutters)\n                if (gutter.update(update))\n                    change = true;\n        }\n        else {\n            change = true;\n            let gutters = [];\n            for (let conf of cur) {\n                let known = prev.indexOf(conf);\n                if (known < 0) {\n                    gutters.push(new SingleGutterView(this.view, conf));\n                }\n                else {\n                    this.gutters[known].update(update);\n                    gutters.push(this.gutters[known]);\n                }\n            }\n            for (let g of this.gutters)\n                g.dom.remove();\n            for (let g of gutters)\n                this.dom.appendChild(g.dom);\n            this.gutters = gutters;\n        }\n        return change;\n    }\n    destroy() {\n        this.dom.remove();\n    }\n}, {\n    provide: /*@__PURE__*/PluginField.scrollMargins.from(value => {\n        if (value.gutters.length == 0 || !value.fixed)\n            return null;\n        return value.view.textDirection == Direction.LTR ? { left: value.dom.offsetWidth } : { right: value.dom.offsetWidth };\n    })\n});\nfunction asArray(val) { return (Array.isArray(val) ? val : [val]); }\nclass UpdateContext {\n    constructor(gutter, viewport) {\n        this.gutter = gutter;\n        this.localMarkers = [];\n        this.i = 0;\n        this.height = 0;\n        this.cursor = RangeSet.iter(gutter.markers, viewport.from);\n    }\n    line(view, line) {\n        if (this.localMarkers.length)\n            this.localMarkers = [];\n        while (this.cursor.value && this.cursor.from <= line.from) {\n            if (this.cursor.from == line.from)\n                this.localMarkers.push(this.cursor.value);\n            this.cursor.next();\n        }\n        let forLine = this.gutter.config.lineMarker(view, line, this.localMarkers);\n        if (forLine)\n            this.localMarkers.unshift(forLine);\n        let gutter = this.gutter;\n        if (this.localMarkers.length == 0 && !gutter.config.renderEmptyElements)\n            return;\n        let above = line.top - this.height;\n        if (this.i == gutter.elements.length) {\n            let newElt = new GutterElement(view, line.height, above, this.localMarkers);\n            gutter.elements.push(newElt);\n            gutter.dom.appendChild(newElt.dom);\n        }\n        else {\n            let markers = this.localMarkers, elt = gutter.elements[this.i];\n            if (sameMarkers(markers, elt.markers)) {\n                markers = elt.markers;\n                this.localMarkers.length = 0;\n            }\n            elt.update(view, line.height, above, markers);\n        }\n        this.height = line.bottom;\n        this.i++;\n    }\n    finish() {\n        let gutter = this.gutter;\n        while (gutter.elements.length > this.i)\n            gutter.dom.removeChild(gutter.elements.pop().dom);\n    }\n}\nclass SingleGutterView {\n    constructor(view, config) {\n        this.view = view;\n        this.config = config;\n        this.elements = [];\n        this.spacer = null;\n        this.dom = document.createElement(\"div\");\n        this.dom.className = \"cm-gutter\" + (this.config.class ? \" \" + this.config.class : \"\");\n        for (let prop in config.domEventHandlers) {\n            this.dom.addEventListener(prop, (event) => {\n                let line = view.visualLineAtHeight(event.clientY, view.contentDOM.getBoundingClientRect().top);\n                if (config.domEventHandlers[prop](view, line, event))\n                    event.preventDefault();\n            });\n        }\n        this.markers = asArray(config.markers(view));\n        if (config.initialSpacer) {\n            this.spacer = new GutterElement(view, 0, 0, [config.initialSpacer(view)]);\n            this.dom.appendChild(this.spacer.dom);\n            this.spacer.dom.style.cssText += \"visibility: hidden; pointer-events: none\";\n        }\n    }\n    update(update) {\n        let prevMarkers = this.markers;\n        this.markers = asArray(this.config.markers(update.view));\n        if (this.spacer && this.config.updateSpacer) {\n            let updated = this.config.updateSpacer(this.spacer.markers[0], update);\n            if (updated != this.spacer.markers[0])\n                this.spacer.update(update.view, 0, 0, [updated]);\n        }\n        return this.markers != prevMarkers;\n    }\n}\nclass GutterElement {\n    constructor(view, height, above, markers) {\n        this.height = -1;\n        this.above = 0;\n        this.dom = document.createElement(\"div\");\n        this.update(view, height, above, markers);\n    }\n    update(view, height, above, markers) {\n        if (this.height != height)\n            this.dom.style.height = (this.height = height) + \"px\";\n        if (this.above != above)\n            this.dom.style.marginTop = (this.above = above) ? above + \"px\" : \"\";\n        if (this.markers != markers) {\n            this.markers = markers;\n            for (let ch; ch = this.dom.lastChild;)\n                ch.remove();\n            let cls = \"cm-gutterElement\";\n            for (let m of markers) {\n                let dom = m.toDOM(view);\n                if (dom)\n                    this.dom.appendChild(dom);\n                let c = m.elementClass;\n                if (c)\n                    cls += \" \" + c;\n            }\n            this.dom.className = cls;\n        }\n    }\n}\nfunction sameMarkers(a, b) {\n    if (a.length != b.length)\n        return false;\n    for (let i = 0; i < a.length; i++)\n        if (!a[i].compare(b[i]))\n            return false;\n    return true;\n}\n/**\nFacet used to provide markers to the line number gutter.\n*/\nconst lineNumberMarkers = /*@__PURE__*/Facet.define();\nconst lineNumberConfig = /*@__PURE__*/Facet.define({\n    combine(values) {\n        return combineConfig(values, { formatNumber: String, domEventHandlers: {} }, {\n            domEventHandlers(a, b) {\n                let result = Object.assign({}, a);\n                for (let event in b) {\n                    let exists = result[event], add = b[event];\n                    result[event] = exists ? (view, line, event) => exists(view, line, event) || add(view, line, event) : add;\n                }\n                return result;\n            }\n        });\n    }\n});\nclass NumberMarker extends GutterMarker {\n    constructor(number) {\n        super();\n        this.number = number;\n    }\n    eq(other) { return this.number == other.number; }\n    toDOM() {\n        return document.createTextNode(this.number);\n    }\n}\nfunction formatNumber(view, number) {\n    return view.state.facet(lineNumberConfig).formatNumber(number, view.state);\n}\nconst lineNumberGutter = /*@__PURE__*/gutter({\n    class: \"cm-lineNumbers\",\n    markers(view) { return view.state.facet(lineNumberMarkers); },\n    lineMarker(view, line, others) {\n        if (others.length)\n            return null;\n        return new NumberMarker(formatNumber(view, view.state.doc.lineAt(line.from).number));\n    },\n    initialSpacer(view) {\n        return new NumberMarker(formatNumber(view, maxLineNumber(view.state.doc.lines)));\n    },\n    updateSpacer(spacer, update) {\n        let max = formatNumber(update.view, maxLineNumber(update.view.state.doc.lines));\n        return max == spacer.number ? spacer : new NumberMarker(max);\n    }\n});\n/**\nCreate a line number gutter extension.\n*/\nfunction lineNumbers(config = {}) {\n    return [\n        lineNumberConfig.of(config),\n        lineNumberGutter\n    ];\n}\nfunction maxLineNumber(lines) {\n    let last = 9;\n    while (last < lines)\n        last = last * 10 + 9;\n    return last;\n}\n\nexport { GutterMarker, gutter, gutters, lineNumberMarkers, lineNumbers };\n"]},"metadata":{},"sourceType":"module"}